(()=>{"use strict";function e(e){return e>=0&&e<10?`0${e}`:e}window.addEventListener("DOMContentLoaded",(()=>{(function(e,t,n,o){const r=document.querySelectorAll(e),a=document.querySelector(t),l=document.querySelectorAll(n);function c(){r.forEach((e=>{e.classList.remove("show","fade"),e.classList.add("hide")})),l.forEach((e=>{e.classList.remove(o)}))}function i(e=0){r[e].classList.remove("hide"),r[e].classList.add("show","fade"),l[e].classList.add(o)}c(),i(),a.addEventListener("click",(e=>{e.preventDefault();const t=e.target;t&&t.classList.contains(n.slice(1))&&l.forEach(((e,n)=>{e==t&&(c(),i(n))}))}))})(".tabcontent",".tabheader__items",".tabheader__item","tabheader__item_active"),function(t){const n=t;function o(e){let t=Date.parse(e)-Date.parse(new Date);return{totalTimeRemaining:t,daysRemaining:Math.floor(t/864e5),hoursRemaining:Math.floor(t/36e5%24),minutesRemaining:Math.floor(t/6e4%60),secondsRemaining:Math.floor(t/1e3%60)}}!function t(){const r=document.querySelector("#days"),a=document.querySelector("#hours"),l=document.querySelector("#minutes"),c=document.querySelector("#seconds"),i=setInterval(t,1e3);r.innerHTML=e(o(n).daysRemaining),a.innerHTML=e(o(n).hoursRemaining),l.innerHTML=e(o(n).minutesRemaining),c.innerHTML=e(o(n).secondsRemaining),o(n).totalTimeRemaining<=0&&(clearInterval(i),r.innerHTML="00",a.innerHTML="00",l.innerHTML="00",c.innerHTML="00")}()}("2021-08-23"),function(e,t){const n=document.querySelectorAll(e),o=document.querySelector("[data-close]"),r=document.querySelector(t),a=setTimeout(l,2e3);function l(){r.style.display="block",document.body.style.overflow="hidden"}n.forEach((e=>{e.addEventListener("click",(()=>{l(),clearInterval(a)}))})),o.addEventListener("click",(e=>{r.style.display="none",document.body.style.overflow="visible"})),r.addEventListener("click",(e=>{e.target==r&&(r.style.display="none",document.body.style.overflow="visible")})),window.addEventListener("keydown",(e=>{27===e.keyCode&&(r.style.display="none",document.body.style.overflow="visible")})),window.addEventListener("scroll",(function e(){window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&(l(),clearInterval(a),window.removeEventListener("scroll",e))}))}("[data-modal]",".modal"),function(e){const t=document.querySelectorAll("form"),n=document.querySelector(e);function o(e){const t=document.querySelector(".modal__dialog"),o=document.createElement("div");t.classList.add("hide"),o.classList.add("modal__dialog"),o.innerHTML=`\n        <div class="modal__content">\n                <form action="#">\n                    <div data-close="" class="modal__close">×</div>\n                    <div class="modal__title">${e}</div>\n                    <div style="margin: 50px auto; font-size: 20px; text-align: center;">СПАСИБО!</div>\n                </form>\n            </div>\n        `,n.append(o),setTimeout((()=>{t.classList.remove("hide"),o.remove()}),4e3)}t.forEach((e=>function(e){e.addEventListener("submit",(t=>{t.preventDefault();const r=new FormData(e);(async(e,t)=>{const n=await fetch("http://localhost:3000/requests",{method:"POST",body:t,headers:{"Content-type":"application/json"}});return await n.json()})(0,JSON.stringify(Object.fromEntries(r.entries()))).then((e=>{n.style.display="block",o("Спасибо, мы с вами скоро свяжемся!"),console.log(e)})).catch((()=>{o("Что-то пошло не так...")})).finally((()=>{e.reset()}))}))}(e)))}(".modal"),function({container:t,slide:n,prevArrow:o,nextArrow:r,totalCounter:a,currentCounter:l,wrapper:c,field:i}){const s=document.querySelectorAll(n),d=document.querySelector(t),u=document.querySelector(l),m=document.querySelector(a),g=document.querySelector(o),f=document.querySelector(r),h=document.querySelector(c),y=window.getComputedStyle(h).width,v=document.querySelector(i);let _=1,p=0;v.style.display="flex",v.style.width=100*s.length+"%",v.style.transition="0.6s all",s.forEach((e=>{e.style.width=y})),h.style.overflow="hidden",m.textContent=e(s.length),u.textContent=e(_),d.style.position="relative";const L=document.createElement("div");d.append(L),L.classList.add("carousel-indicators");for(let e=0;e<s.length;e++){const e=document.createElement("div");L.append(e),e.classList.add("dot")}const b=document.querySelectorAll(".dot");function S(e){return+e.replace(/\D/g,"")}b[_-1].style.backgroundColor="black",b.forEach(((t,n)=>{t.addEventListener("click",(()=>{b.forEach((t=>{t.style.backgroundColor="#fff",_=n+1,u.innerHTML=e(_)})),p=S(y)*n,v.style.transform=`translateX(-${p}px)`,t.style.backgroundColor="black"}))})),f.addEventListener("click",(()=>{b[_-1].style.backgroundColor="#fff",p==S(y)*(s.length-1)?p=0:p+=S(y),v.style.transform=`translateX(-${p}px)`,_==s.length?_=1:_++,u.innerHTML=e(_),b[_-1].style.backgroundColor="black"})),g.addEventListener("click",(()=>{b[_-1].style.backgroundColor="#fff",0==p?p=S(y)*(s.length-1):p-=S(y),v.style.transform=`translateX(-${p}px)`,1==_?_=s.length:_--,u.innerHTML=e(_),b[_-1].style.backgroundColor="black"}))}({container:".offer__slider",slide:".offer__slide",prevArrow:".offer__slider-prev",nextArrow:".offer__slider-next",totalCounter:"#total",currentCounter:"#current",wrapper:".offer__slider-wrapper",field:".offer__slider-inner"}),function(){class e{constructor(e,t,n,o,r,...a){this.bgImage=e,this.title=t,this.alt=n,this.description=o,this.price=r,this.classes=a}addCard(){const e=document.createElement("div"),t=document.querySelector(".menu__field").querySelector(".container");e.innerHTML=`\n                <img src="${this.bgImage}" alt="${this.alt}">\n                <h3 class="menu__item-subtitle">${this.title}</h3>\n                <div class="menu__item-descr">${this.description}</div>\n                <div class="menu__item-divider"></div>\n                <div class="menu__item-price">\n                    <div class="menu__item-cost">Цена:</div>\n                    <div class="menu__item-total"><span>${this.price}</span> грн/день</div>\n                </div>\n        `,t.append(e),this.classes.forEach((t=>e.classList.add(t)))}}(async function(e){const t=await fetch("http://localhost:3000/menu");return await t.json()})().then((t=>{t.forEach((({img:t,title:n,altimg:o,descr:r,price:a})=>{new e(t,n,o,r,a,"menu__item").addCard()}))}))}(),function(){const e=document.querySelector(".calculating__result span"),t=document.querySelectorAll("#choose div"),n=document.querySelectorAll("#gender div"),o=document.querySelectorAll(".calculating__choose_medium input"),r=document.querySelector("#female"),a=document.querySelector("#small");let l,c,i,s="female",d=1.375;var u;function m(){e.textContent=l&&c&&i&&s&&d?"female"!=s?`${Math.round((88.36+13.4*c+4.8*l-5.7*i)*d)}`:`${Math.round((447.6+9.2*c+3.1*l-4.3*i)*d)}`:"0"}localStorage.getItem("gender")&&(s=localStorage.getItem("gender")),localStorage.getItem("ration")&&(d=localStorage.getItem("ration")),u="calculating__choose-item_active",document.querySelectorAll(".calculating__choose div").forEach((e=>{e.classList.remove(u),e.getAttribute("data-ration")?e.getAttribute("data-ration")===localStorage.getItem("ration")&&(a.classList.remove(u),e.classList.add(u)):e.getAttribute("id")===localStorage.getItem("gender")?(r.classList.remove(u),e.classList.add(u)):r.classList.add(u)})),m(),function(e,o){const r=document.querySelectorAll(".calculating__choose div");r.forEach((e=>{e.addEventListener("click",(e=>{e.target.getAttribute("data-ration")?(d=e.target.getAttribute("data-ration"),localStorage.setItem("ration",e.target.getAttribute("data-ration"))):(s=e.target.id,localStorage.setItem("gender",e.target.id)),r.forEach((()=>{e.target.getAttribute("data-ration")?t.forEach((e=>{e.classList.remove(o)})):n.forEach((e=>{e.classList.remove(o)}))})),e.target.classList.add(o),m()}))}))}(0,"calculating__choose-item_active"),o.forEach((e=>{e.addEventListener("input",(e=>{switch(e.target.value.match(/\D/g)?(e.target.style.border="1px solid red",e.target.style.boxShadow="0px 0px 5px 0px rgba(255, 0, 0, 0.75)"):(e.target.style.border="none",e.target.style.boxShadow="0 4px 15px rgb(0 0 0 / 20%)"),e.target.id){case"height":l=e.target.value,console.log(l);break;case"weight":c=e.target.value;break;case"age":i=e.target.value}m()}))}))}()}))})();
//# sourceMappingURL=bundle.js.map